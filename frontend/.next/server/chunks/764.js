"use strict";exports.id=764,exports.ids=[764],exports.modules={6764:(e,t,s)=>{s.a(e,async(e,l)=>{try{s.r(t),s.d(t,{default:()=>m});var a=s(997),r=s(6689),i=s(4045);s(9637);var n=s(5194),o=s.n(n),c=e([i]);function d({onLocationClick:e,enableDownloadSelection:t,downloadRadius:s=10}){let[l,n]=(0,r.useState)(null);return((0,i.useMapEvents)({click:s=>{if(t&&e){let{lat:t,lng:l}=s.latlng;n([t,l]),e(t,l)}}}),t&&l)?(0,a.jsxs)(a.Fragment,{children:[a.jsx(i.Circle,{center:l,radius:1e3*s,pathOptions:{color:"blue",fillColor:"blue",fillOpacity:.2,weight:2}}),a.jsx(i.Marker,{position:l,children:a.jsx(i.Popup,{children:(0,a.jsxs)("div",{className:"p-2",children:[a.jsx("h3",{className:"font-bold text-slate-900 mb-1",children:"\uD83D\uDCCD Selected Location"}),a.jsx("p",{className:"text-sm text-slate-600 mb-2",children:'Click "Download This Area" to save offline'}),(0,a.jsxs)("div",{className:"text-xs text-slate-500",children:[l[0].toFixed(4),", ",l[1].toFixed(4)]}),(0,a.jsxs)("div",{className:"text-xs text-blue-600 mt-1",children:["Coverage: ",s," km radius"]})]})})})]}):null}function x({center:e,zoom:t}){return(0,i.useMap)(),null}function m({locations:e=[],center:t=[20,0],zoom:s=2,height:l="500px",enableDownloadSelection:n=!1,downloadRadius:o=10,onLocationClick:c}){let[m,p]=(0,r.useState)(!1);return m?a.jsx("div",{style:{height:l},className:"rounded-lg overflow-hidden shadow-xl border border-white/50",children:(0,a.jsxs)(i.MapContainer,{center:t,zoom:s,scrollWheelZoom:!0,style:{height:"100%",width:"100%"},className:"z-0",children:[a.jsx(x,{center:t,zoom:s}),a.jsx(i.TileLayer,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),n&&a.jsx(d,{onLocationClick:c,enableDownloadSelection:n,downloadRadius:o}),e.map(e=>a.jsx(i.Marker,{position:[e.lat,e.lng],children:a.jsx(i.Popup,{children:(0,a.jsxs)("div",{className:"p-2",children:[a.jsx("h3",{className:"font-bold text-slate-900 mb-1",children:e.name}),e.description&&a.jsx("p",{className:"text-sm text-slate-600",children:e.description}),(0,a.jsxs)("div",{className:"mt-2 text-xs text-slate-500",children:["\uD83D\uDCCD ",e.lat.toFixed(4),", ",e.lng.toFixed(4)]})]})})},e.id))]})}):a.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-purple-100 rounded-lg flex items-center justify-center",style:{height:l},children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-3"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Loading map..."})]})})}i=(c.then?(await c)():c)[0],delete o().Icon.Default.prototype._getIconUrl,o().Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"}),l()}catch(e){l(e)}})}};